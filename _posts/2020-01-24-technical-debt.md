---
layout: post
title: "기술 부채도 자산인 이유"
categories: []
tags:
- technical debt
type: post
published: true
draft: true
meta: {}
---

경영학과 전공자라면 반드시 들어야 하는 수업이 있다. 회계원리와 재무관리. 나는 이쪽 수업이 너무 재미 없어서 정말 필수인 과목만 최소한으로 수강했다. 암기했던 것들은 다 사라졌고 수 년이 지난 지금까지 머리속에 남아있는 내용은 딱 한 줄이다.

### 자산 = 부채 + 자본

경영조직이나 사업체는 재무 상태를 관리하기 위해 재무상태표를 작성한다. 재무상태표란 간단히 말하자면 회사의 가계부라고 볼 수 있다. 일반적으로 들어온 돈(수입)과 나간 돈(지출)만 기록하는 가계부과 달리 재무상태표는 복식부기 방식으로 기록한다. 복식부기란 거래가 발생했을 때 상호대응 되는 두 개 항목을 동시에 기입하는 방식이다. 상태표의 왼쪽에는 자산에 해당하는 항목, 오른쪽에는 부채와 자본에 해당하는 항목을 기록한다. 그래서 항상 왼쪽의 총합과 오른쪽의 총합이 같게 유지된다. 따라서 회계적인 관점에서 보면 언제나 `자산 = 부채 + 자본` 이라는 등식이 성립한다.

<img src="/assets/posts/technical-debt-0.png" width="400"/>

수업을 듣고 난 다음에서야 겨우 이해하게 되었지만 초반에는 이 개념이 쉽게 받아들여지지 않았다. 부채가 늘어나면 자산이 늘어난다고? 부채가 줄어드는데 왜 내 자산도 줄어드는거지? 더 복잡한 경우도 있지만 가장 쉽게 이해하기 위해 은행 대출을 상상해보자. 은행에서 대출 1억 원을 받았다. 그럼 나에게는 1억 원의 부채가 생긴 것이다. 그럼 관계식에 따라 자산도 1억 원이 증가해야 한다. 무슨 자산이 증가한걸까? 바로 현금이다. 은행에 대한 부채가 1억 원 증가한 대신 나는 현금 1억 원이 생겼다. 

복식부기는 이런식으로 하나의 거래로 인해서 증가하거나 감소하는 두 가지 측면을 동시에 보게 해준다. 이제 1억의 현금으로 맥북을 살 수도 있고 아이패드를 살 수도 있다. 맥북도 자산이다. 현금이 줄고 그만한 가치의 맥북이 생겼으므로 자산의 총합에는 변동이 없다. 따라서 부채와 자본에도 영향이 없다. 대출을 갚을 때가 되면 1억 원을 은행에 상환해야하므로 현금 자산이 1억 원 줄고 그와 동시에 은행에 지고 있던 부채도 1억 원이 줄게 되어 또다시 `자산 = 부채 + 자본` 등식은 맞춰진다.

기술 부채란 뭘까? 일명 스파게티 코드라고 부르는 구조화되어 있지 않은 코드 형태, 읽기 어려워서 기능 수정을 하기 힘든 코드, 영향 범위를 파악하기 힘든 사이드 이펙트가 발생할까봐 감히 건드릴 수 없는 부분 등을 보면 개발자는 코드에서 악취가 난다고 표현하며 기술 부채의 존재와 크기를 어렴풋이 느낀다. 그래서 이럴때 '기술 부채를 갚아야 한다', '기술 부채가 많다', '올해는 기술 부채를 좀 청산하자' 등의 표현을 사용한다. 그런 말들을 듣다보니 막연하게나마 기술 부채는 언젠가 갚거나 줄여야 하는 나쁜 대상으로만 인식하고 있었다. 

그러던 어느날 팀원이 기술 부채에 대한 글을 공유해주셨는데 '기술 부채가 발생하면서 남는 리소스를 다른 곳에 투자할 수 있다'는 문장을 봤다. 머리가 띵하고 울렸다. 맞다! `자산 = 부채 + 자본` 이었지. 부채가 늘면 자산도 늘어나는 복식부기의 원리를 잊고 있었다. 기술 부채가 늘었다는 것은 그만큼의 자산도 생겼다는 뜻인데, 그러면 그렇게 생긴 자산은 뭘까. 바로 **시간**이다. 

현실 세계에서 부채가 없는 회사는 거의 없다. 그리고 더 중요한 사실은 부채가 없다는 것이 썩 좋기만 한 것도 아니라는 것이다. 회계/재무에서 자산이란 생산 활동, 즉 돈벌기에 도움이 되는 것들을 의미한다. 자산이 많아야 생산도 많이 할 수 있다. 그래서 일반적으로 회사는 적절히 부채를 늘려 자산을 늘린다. 물론 골목 가게처럼 규모가 작은 사업체는 빚이 아예 없을 수도 있다. 하지만 그런 만큼 성장성도 낮다. 빠른 성장을 위해서 적당한 부채는 필수다. 

회사를 개발팀으로 치환해봐도 마찬가지이다. 개인 프로젝트가 아닌 이상 기술 부채를 아예 늘리지 않고 개발을 할 순 없다. 기술 부채를 늘림으로써 얻을 수 있는 **시간**이라는 자산으로 사업적인 성과를 낼 수 있게 된다. 연휴 대목에 맞춰 프로모션을 개발하여 매출을 바짝 올릴 수 있고 경쟁자보다 더 빨리 새로운 시장을 선점할 수도 있다. 기술 부채를 짊어지는 대신 시간을 벌었기 때문에 가능한 일이다.

이렇게 기술 부채를 맹목적으로 낮춰야하는 나쁜 것으로만 보지 않고 부채이면서 동시에 자산이라는 생각을 하고보니 코드를 바라보는 마음도 바뀐다. 스파게티 코드를 보면 찌푸려지고 어떻게든 빨리 없애야하는 암세포 같은 존재라고 생각했었다. 하지만 자산의 측면을 인지하고 나니 이때 발생한 기술 부채 덕분에 출시를 앞당겨 사업적 성과를 냈겠구나 생각을 한다. 부채가 아예 없이 사업을 하면 성장이 느리고 한계가 있듯이, 개발팀도 기술 부채를 아예 없앨 수는 없다. 다만 남이 진 부채를 내가 대신 상환하고 있는 느낌이 들기도 한다. 그러나 내가 만든 기술 부채도 다른 누군가가 갚고 있겠지.

부채를 늘려 자산을 늘렸다면 투자도 해야한다. 그렇다면 코드에 있어서 투자는 무엇일까. [이 글](https://www.disciplinedagiledelivery.com/technical-debt/)을 쓴 사람은 아키텍처라고 생각하는 것 같다. 아키텍처를 설계하거나 담당하는 사람이 있다면 다른 개발자들이 추가적인 기술 부채를 발생시키지 않게 방지할 수도 있고 기존의 기술 부채를 청산할 수 있다고 한다. 주위 개발자 얘기를 들어봤을 때도 코드에 일관된 아키텍처나 디자인 패턴이 도입되어 있으면 최소한의 퀄리티는 유지할 수 있는 것 같다. 반면 정해진 틀에 맞춰 코드를 찍어내는 느낌이 별로라는 사람도 있다.

무작정 기술 부채를 늘리기만 할 수도 없다. 부채는 반드시 만기가 도래한다. 기술 부채도 마찬가지이다. 기술 부채를 갚지 않고 늘리기만 하면 팀 전체의 개발 속도가 느려지고 좀비처럼 되살아나는 버그로 인해 개발자가 고통 받게 된다. 개발 생산성이 낮아지면 결국 사업적으로도 영향을 받게 된다. 다만 금융 부채와 기술 부채의 가장 큰 차이점은 기술 부채는 정확한 양을 측정할 수 없다는 점일 것이다. 금융 부채는 화폐 단위를 쓰지만 기술 부채의 규모를 측정하는 표준 단위는 존재하지 않는다. 근데 경영학의 석학 피터 드러커는 측정할 수 없는 것은 관리할 수 없다고 했다. 기술 부채를 관리하고 싶다면 어떻게든 수치로 나타내야 한다.

엉클밥은 애자일 포인트를 쓰라고 한다. 개발 업무 별로 포인트를 부여하고, 스프린트마다 개발 팀이 총 몇 포인트만큼의 일을 완료하는지 추이를 보는 것이다. 만약 포인트가 서서히 줄기 시작하면 기술 부채로 인해 개발 속도가 늦어지는 것이므로 리팩토링을 통해 기술 부채를 청산해야하는 시기라고 한다. 애자일 포인트는 기술 부채를 직접적으로 측정하는 건 아니고 부채로 인해 야기되는 개발 속도 저하를 추적하는 간접적인 지표인 것 같다. 좀 더 직접적으로 코드 정적 분석을 통해 알 수 있는 지표들도 있다. 반복되는 코드가 얼마나 많은지, 클래스/프레임워크 간의 디펜던시 복잡성 등등. 어떤 것을 쓰든 정답은 없고 아마도 상황에 맞게, 팀에 맞게 써야하지 않을까 싶다. 아직 관련 경험이 부족하여 상상을 할 뿐이다.

기술 부채에 대해 부정적인 말만 듣다보니 무작정 안좋은 것이라고만 생각했었는데 기술 부채를 회계적인 부채랑 비교해서 생각하고 보니 기업을 경영하는 것과 개발 팀을 관리하는게 비슷한 점이 많아 보인다. 무엇보다 부채 관리가 매우 중요하다는 점에서 그렇다. 부채 없이 사업을 할 순 없지만 부채가 너무 많이 쌓여서 상환하지 못하면 파산한다. 기술 부채 없는 개발팀은 존재할 수 없지만 관리하지 못하면 주저 앉는다. 버그 투성이 프로그램 때문에 사용자가 고통받을 수도 있고 사용자가(또는 지친 개발자도!) 아예 떠나버리면 회사가 위험해진다. 도저히 기술 부채 청산이 안되면 아예 처음부터 다시 개발해야 할 수도 있다. ~~그래서 은행들이 그렇게 자주 앱 자체를 deprecate 시키고 새로운 앱을 내는것일까? 🤔~~ 점차 경험을 쌓아가면서 기술 부채를 수치화할 기준을 잘 세워서 파악하고, 기술 및 사업적인 의사결정에 따라 늘렸다가 줄이기도 하며 장기적으로 개발 팀과 사업이 성공하도록 관리하는 능력을 기를수 있기 바래본다. 




